<div class="loginCard relative">

    @if (currentStep() === 1) {
    <!-- Step 1 -->
    <span> نسيت كلمة المرور </span>
    <h4 class="mt-4">ادخل رقم هاتفك لإعادة تعيين كلمة المرور</h4>

    <form [formGroup]="formPhone" class="mt-5" (ngSubmit)="submitPhone()">
        <div class="cardsForm d-flex gap-3 mb-4">
            <div class="position-relative w-100 p-0 border-0">
                <ngx-intl-tel-input [cssClass]="'custom'" [enableAutoCountrySelect]="true" [enablePlaceholder]="true"
                    [customPlaceholder]="'اكتب رقم الهاتف هنا'" [searchCountryFlag]="true"
                    [searchCountryField]="[SearchCountryField.All]" [selectFirstCountry]="false"
                    [selectedCountryISO]="CountryISO.Egypt" [separateDialCode]="true" [phoneValidation]="true"
                    formControlName="phone" name="phone" class="input-cal p-0 input-base inputFloating">
                </ngx-intl-tel-input>
                <label id="label-input"> رقم الهاتف</label>
            </div>
        </div>
        <button type="submit" class="login-btn"> تعيين كلمة المرور</button>
    </form>
    }

    @else if (currentStep() === 2) {
    <!-- Step 2 -->
    <h4>التحقق من رقم هاتفك</h4>
    <p> أدخل الرمز المرسل إلى رقم هاتفك {{phoneNumber}}</p>

    <form [formGroup]="formOtp" class="otp-wrapper" (ngSubmit)="submitOtp()">
        <div class="otp-inputs">
            <input type="text" maxlength="1" formControlName="d1" />
            <input type="text" maxlength="1" formControlName="d2" />
            <input type="text" maxlength="1" formControlName="d3" />
            <input type="text" maxlength="1" formControlName="d4" />
        </div>

        <div class="otp-text mb-4">
            <p class="no-code">لم تستلم الرمز؟</p>
            <p class="expire">تنتهي صلاحية الكود في <span class="time">02:59</span></p>
            <button class="resend-btn" type="button">إعادة إرسال رمز التحقق</button>
        </div>

        <button type="submit" class="login-btn"> ارسال</button>
    </form>
    }

    @else if (currentStep() === 3) {
    <!-- Step 3 -->
    <h4>إعادة تعيين كلمة المرور</h4>

    <form [formGroup]="formPassword" (ngSubmit)="submitPassword()" class="mt-4">
        <div class="position-relative mt-4 mb-4">
            <input class="input-cal input-base inputFloating" formControlName="password" placeholder=""                 [type]="passwordFieldType ? 'password' : 'text'"
               />
                  <i (click)="togglePasswordVisibility()" role="button"  class="fa-solid position-absolute passicon"
                [class.fa-eye]="passwordFieldType" [class.fa-eye-slash]="!passwordFieldType">
            </i>
            <label id="label-input"> كلمة المرور الجديدة</label>

        </div>


          <div class="position-relative mt-4 mb-4">
            <input class="input-cal input-base inputFloating" formControlName="password" placeholder=""                 [type]="passwordFieldType ? 'password' : 'text'"
               />
                  <i (click)="togglePasswordVisibility()" role="button"  class="fa-solid position-absolute passicon"
                [class.fa-eye]="passwordFieldType" [class.fa-eye-slash]="!passwordFieldType">
            </i>
            <label id="label-input">  تاكيد كلمة المرور الجديدة</label>

        </div>

        <button type="submit" class="login-btn">أعادة تعيين</button>
    </form>
    }

</div>

<div class="resiterRoute">
    <h5>ليس لديك حساب؟
        <a routerLink="/auth/register" class="reg">إنشاء حساب جديد</a>
    </h5>
</div>